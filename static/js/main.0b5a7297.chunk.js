(this["webpackJsonpcheck-splitter"]=this["webpackJsonpcheck-splitter"]||[]).push([[0],{81:function(e,a,t){e.exports=t(92)},92:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),i=t(8),c=t.n(i),o=t(25),u=t(14),s=t(18),m=t(151),p=t(141),d=t(142),f=t(137),h=t(94),E=t(143),b=t(144),g=t(145),v=t(146),y=t(147),k=t(47),O=t(148),j=t(139),P=t(73),S=t.n(P),x=t(127),w=t(4),I=t(152),N=t(126),C=t(93),R=t(128),T=t(129),A=t(130),D=t(131),W=t(132),q=t(63),B=t(64);!function(e){e[e.Percentage=0]="Percentage",e[e.SplitEqually=1]="SplitEqually",e[e.SplitProportionally=2]="SplitProportionally"}(n||(n={}));var L=function(){function e(a){Object(q.a)(this,e),this.person=void 0,this.expenses=void 0,this.total=void 0,this.person=a,this.expenses=[],this.total=0}return Object(B.a)(e,[{key:"getCurrentTotalPrice",value:function(){return this.person.basePrice+this.expenses.reduce((function(e,a){return e+a}),0)}},{key:"addExpense",value:function(e,a,t,r){switch(a){case n.Percentage:this.expenses.push(e*this.getCurrentTotalPrice()/100);break;case n.SplitEqually:this.expenses.push(e/t);break;case n.SplitProportionally:var l=this.person.basePrice/r;this.expenses.push(l*e)}}},{key:"finalize",value:function(){this.total=this.getCurrentTotalPrice()}}]),e}(),_=Object(w.a)((function(e){return Object(I.a)({head:{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}})}))(N.a),z=Object(x.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(2),marginBottom:e.spacing(2)},table:{maxHeight:"50vh"}}})),H=function(){var e=z(),a=Object(s.c)((function(e){return e.people})),t=Object(s.c)((function(e){return e.expenses})),n=function(e,a){var t=e.length,n=e.map((function(e){return e.basePrice})).reduce((function(e,a){return e+a}),0);return e.map((function(e){var r=new L(e),l=!0,i=!1,c=void 0;try{for(var o,u=a[Symbol.iterator]();!(l=(o=u.next()).done);l=!0){var s=o.value;r.addExpense(s.payload,s.kind,t,n)}}catch(m){i=!0,c=m}finally{try{l||null==u.return||u.return()}finally{if(i)throw c}}return r.finalize(),r}))}(a,t);return l.a.createElement(C.a,{className:e.root,elevation:3},l.a.createElement(R.a,{className:e.table},l.a.createElement(T.a,{stickyHeader:!0},l.a.createElement(A.a,null,l.a.createElement(D.a,null,l.a.createElement(_,{align:"left"},"Name"),l.a.createElement(_,{align:"right"},"Base Price"),t.map((function(e,a){return l.a.createElement(_,{align:"right",key:a},e.name)})),l.a.createElement(_,{align:"right"},"Total"))),l.a.createElement(W.a,null,n.map((function(e,a){return l.a.createElement(D.a,{key:a},l.a.createElement(N.a,{align:"left"},e.person.name),l.a.createElement(N.a,{align:"right"},e.person.basePrice),e.expenses.map((function(e,a){return l.a.createElement(N.a,{align:"right",key:a},e)})),l.a.createElement(N.a,{align:"right"},e.total))}))))))},J=t(153),F=t(69),X=t.n(F),$=t(133),G=t(66),K=t.n(G),M=function(){return l.a.createElement($.a,{color:"primary",variant:"contained",size:"large",type:"submit",startIcon:l.a.createElement(K.a,null)},"Add")},Q=Object(x.a)((function(e){return{root:{padding:e.spacing(2)},headerIcon:{marginRight:e.spacing(1)},header:{display:"flex",alignItems:"center"}}})),U=function(e){var a=e.title,t=e.Icon,n=e.handleSubmit,r=e.children,i=Q();return l.a.createElement(C.a,{elevation:3,className:i.root},l.a.createElement("div",{className:i.header},l.a.createElement(t,{fontSize:"large",className:i.headerIcon}),l.a.createElement(k.a,{variant:"h5"},a)),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n&&n(e)}},r,l.a.createElement(M,null)))},V=t(138),Y=function(e){var a=e.label,t=e.name,n=e.percentage,i=e.handleChange,c=Object(r.useState)(void 0),u=Object(o.a)(c,2),s=u[0],m=u[1],p=function(e){var a=parseFloat(e.target.value);isNaN(a)&&(a=void 0),m(a),i(a)};return n?l.a.createElement(J.a,{label:a,variant:"outlined",margin:"normal",name:t,fullWidth:!0,InputProps:{endAdornment:l.a.createElement(V.a,{position:"end"},"%")},InputLabelProps:{shrink:!0},type:"number",inputProps:{min:0,max:100},value:s||"",onChange:p}):l.a.createElement(J.a,{label:a,variant:"outlined",margin:"normal",name:t,value:s||"",fullWidth:!0,InputProps:{startAdornment:l.a.createElement(V.a,{position:"start"},"$")},type:"number",onChange:p})},Z=function(){var e=Object(r.useState)({name:""}),a=Object(o.a)(e,2),t=a[0],n=a[1],i=Object(s.b)();return l.a.createElement(U,{title:"Add a new person",Icon:X.a,handleSubmit:function(){if(""!==t.name&&t.basePrice&&t.basePrice>0){var e={name:t.name,basePrice:t.basePrice};i(function(e){return{type:"ADD_PERSON",person:e}}(e)),n({name:"",basePrice:void 0})}}},l.a.createElement(J.a,{label:"Name",variant:"outlined",margin:"normal",name:"name",value:t.name,fullWidth:!0,InputLabelProps:{shrink:!0},onChange:function(e){var a=e.target.value;n((function(e){return Object(u.a)({},e,{name:a})}))}}),l.a.createElement(Y,{label:"Base Price",name:"basePrice",handleChange:function(e){n((function(a){return Object(u.a)({},a,{basePrice:e})}))}}))},ee=t(43),ae=t(136),te=t(155),ne=t(149),re=t(140),le=t(70),ie=t.n(le),ce=Object(x.a)((function(e){return{formRow:{display:"flex",justifyContent:"space-between"},formRowItemLeft:Object(ee.a)({},e.breakpoints.up("sm"),{paddingRight:e.spacing(1)}),formRowItemRight:Object(ee.a)({},e.breakpoints.up("sm"),{paddingLeft:e.spacing(1)})}})),oe=function(){var e=ce(),a=Object(r.useState)({name:"",kind:n.SplitEqually}),t=Object(o.a)(a,2),i=t[0],c=t[1],m=Object(s.b)();return l.a.createElement(U,{title:"Add a new expense",Icon:ie.a,handleSubmit:function(){if(""!==i.name&&i.payload&&i.payload>0){var e={name:i.name,kind:i.kind,payload:i.payload};m(function(e){return{type:"ADD_EXPENSE",expense:e}}(e)),c({name:"",kind:n.SplitEqually,payload:void 0})}}},l.a.createElement(J.a,{label:"Name",name:"name",variant:"outlined",margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},value:i.name,onChange:function(e){if(e.target){var a=e.target.value;c((function(e){return Object(u.a)({},e,{name:a})}))}}}),l.a.createElement(j.a,{container:!0},l.a.createElement(j.a,{item:!0,xs:12,sm:6,className:e.formRowItemLeft},l.a.createElement(ae.a,{margin:"normal",fullWidth:!0},l.a.createElement(te.a,{id:"kind-select-label",variant:"outlined"},"Kind"),l.a.createElement(ne.a,{labelId:"kind-select-label",labelWidth:40,fullWidth:!0,value:i.kind,variant:"outlined",onChange:function(e){var a=e.target.value;c((function(e){return Object(u.a)({},e,{kind:a})}))}},l.a.createElement(re.a,{value:n.Percentage},"Percentage"),l.a.createElement(re.a,{value:n.SplitEqually},"Split equally"),l.a.createElement(re.a,{value:n.SplitProportionally},"Split proportionally")))),l.a.createElement(j.a,{item:!0,xs:12,sm:6,className:e.formRowItemRight},l.a.createElement(Y,{label:"Price",name:"price",percentage:i.kind===n.Percentage,handleChange:function(e){c((function(a){return Object(u.a)({},a,{payload:e})}))}}))))},ue=t(71),se=t.n(ue),me=t(72),pe=t.n(me),de=Object(x.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},drawerHeader:Object(u.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"})}})),fe=function(e){var a=e.open,t=e.closeCallback,n=de(),r=Object(s.b)();return l.a.createElement(m.a,{open:a},l.a.createElement("div",{className:n.drawerHeader},l.a.createElement(p.a,{onClick:t},l.a.createElement(se.a,null))),l.a.createElement(d.a,null),l.a.createElement(f.a,null,l.a.createElement(h.a,{button:!0,onClick:function(){r({type:"RESET_STATE"}),t()}},l.a.createElement(E.a,null,l.a.createElement(pe.a,null)),l.a.createElement(b.a,{primary:"Reset"}))))},he=function(){var e=de(),a=Object(r.useState)(!1),t=Object(o.a)(a,2),n=t[0],i=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null),l.a.createElement(v.a,{position:"sticky"},l.a.createElement(y.a,null,l.a.createElement(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return i(!0)}},l.a.createElement(S.a,null)),l.a.createElement(k.a,{variant:"h6",className:e.title},"Check Splitter"))),l.a.createElement(fe,{open:n,closeCallback:function(){return i(!1)}}),l.a.createElement(O.a,{fixed:!0},l.a.createElement(H,null),l.a.createElement(j.a,{container:!0,spacing:3},l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(Z,null)),l.a.createElement(j.a,{item:!0,xs:12,sm:8},l.a.createElement(oe,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=t(53),be={people:[],expenses:[]},ge=t(41),ve=t(74),ye=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"check-splitter-state";try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):null}catch(t){return console.error(t),null}}()||void 0,ke=Object(ge.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_PERSON":return Object(u.a)({},e,{people:[].concat(Object(Ee.a)(e.people),[a.person])});case"ADD_EXPENSE":return Object(u.a)({},e,{expenses:[].concat(Object(Ee.a)(e.expenses),[a.expense])});case"RESET_STATE":return Object(u.a)({},be);default:return e}}),ye,Object(ve.composeWithDevTools)());ke.subscribe((function(){!function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"check-splitter-state";try{window.localStorage.setItem(a,JSON.stringify(e))}catch(t){console.error(t)}}(ke.getState())})),c.a.render(l.a.createElement(s.a,{store:ke},l.a.createElement(he,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[81,1,2]]]);
//# sourceMappingURL=main.0b5a7297.chunk.js.map