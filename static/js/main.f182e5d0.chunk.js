(this["webpackJsonpcheck-splitter"]=this["webpackJsonpcheck-splitter"]||[]).push([[0],{81:function(e,a,t){e.exports=t(92)},92:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(8),i=t.n(c),o=t(36),u=t(145),s=t(146),m=t(147),p=t(141),d=t(47),f=t(148),E=t(139),h=t(73),g=t.n(h),b=t(127),v=t(4),y=t(152),k=t(126),P=t(93),O=t(128),S=t(129),j=t(130),x=t(131),w=t(132),N=t(14),I=t(63),C=t(64);function R(e){switch(e){case n.Percentage:return"Percentage";case n.SplitEqually:return"Split Equally";case n.SplitProportionally:return"Split Proportionally"}}!function(e){e[e.Percentage=0]="Percentage",e[e.SplitEqually=1]="SplitEqually",e[e.SplitProportionally=2]="SplitProportionally"}(n||(n={}));var T=function(){function e(a){Object(I.a)(this,e),this.person=void 0,this.expenses=void 0,this.total=void 0,this.person=a,this.expenses=[],this.total=0}return Object(C.a)(e,[{key:"getCurrentTotalPrice",value:function(){return this.person.basePrice+this.expenses.reduce((function(e,a){return e+a}),0)}},{key:"addExpense",value:function(e,a,t,r){switch(a){case n.Percentage:this.expenses.push(e*this.getCurrentTotalPrice()/100);break;case n.SplitEqually:this.expenses.push(e/t);break;case n.SplitProportionally:var l=this.person.basePrice/r;this.expenses.push(l*e)}}},{key:"finalize",value:function(){this.total=this.getCurrentTotalPrice()}}]),e}(),A=Object(v.a)((function(e){return Object(y.a)({head:{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}})}))(k.a),D=Object(b.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(2),marginBottom:e.spacing(2)},table:{maxHeight:"50vh"}}})),W=function(){var e=D(),a=Object(N.c)((function(e){return e.people})),t=Object(N.c)((function(e){return e.expenses})),n=function(e,a){var t=e.length,n=e.map((function(e){return e.basePrice})).reduce((function(e,a){return e+a}),0);return e.map((function(e){var r=new T(e),l=!0,c=!1,i=void 0;try{for(var o,u=a[Symbol.iterator]();!(l=(o=u.next()).done);l=!0){var s=o.value;r.addExpense(s.payload,s.kind,t,n)}}catch(m){c=!0,i=m}finally{try{l||null==u.return||u.return()}finally{if(c)throw i}}return r.finalize(),r}))}(a,t);return l.a.createElement(P.a,{className:e.root,elevation:3},l.a.createElement(O.a,{className:e.table},l.a.createElement(S.a,{stickyHeader:!0},l.a.createElement(j.a,null,l.a.createElement(x.a,null,l.a.createElement(A,{align:"left"},"Name"),l.a.createElement(A,{align:"right"},"Base Price"),t.map((function(e,a){return l.a.createElement(A,{align:"right",key:a},e.name)})),l.a.createElement(A,{align:"right"},"Total"))),l.a.createElement(w.a,null,n.map((function(e,a){return l.a.createElement(x.a,{key:a},l.a.createElement(k.a,{align:"left"},e.person.name),l.a.createElement(k.a,{align:"right"},e.person.basePrice),e.expenses.map((function(e,a){return l.a.createElement(k.a,{align:"right",key:a},e)})),l.a.createElement(k.a,{align:"right"},e.total))}))))))},q=t(15),B=t(153),L=t(69),_=t.n(L),z=t(133),H=t(66),J=t.n(H),$=function(){return l.a.createElement(z.a,{color:"primary",variant:"contained",size:"large",type:"submit",startIcon:l.a.createElement(J.a,null)},"Add")},F=Object(b.a)((function(e){return{root:{padding:e.spacing(2)},headerIcon:{marginRight:e.spacing(1)},header:{display:"flex",alignItems:"center"}}})),X=function(e){var a=e.title,t=e.Icon,n=e.handleSubmit,r=e.children,c=F();return l.a.createElement(P.a,{elevation:3,className:c.root},l.a.createElement("div",{className:c.header},l.a.createElement(t,{fontSize:"large",className:c.headerIcon}),l.a.createElement(d.a,{variant:"h5"},a)),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n&&n(e)}},r,l.a.createElement($,null)))},G=t(138),K=function(e){var a=e.label,t=e.name,n=e.percentage,r=e.value,c=e.handleChange,i=function(e){var a=parseFloat(e.target.value);isNaN(a)&&(a=void 0),c(a)};return n?l.a.createElement(B.a,{label:a,variant:"outlined",margin:"normal",name:t,fullWidth:!0,InputProps:{endAdornment:l.a.createElement(G.a,{position:"end"},"%")},InputLabelProps:{shrink:!0},type:"number",inputProps:{min:0,max:100},value:r||"",onChange:i}):l.a.createElement(B.a,{label:a,variant:"outlined",margin:"normal",name:t,value:r||"",fullWidth:!0,InputProps:{startAdornment:l.a.createElement(G.a,{position:"start"},"$")},type:"number",onChange:i})},M=function(){var e=Object(r.useState)({name:""}),a=Object(o.a)(e,2),t=a[0],n=a[1],c=Object(N.b)();return l.a.createElement(X,{title:"Add a new person",Icon:_.a,handleSubmit:function(){if(""!==t.name&&t.basePrice&&t.basePrice>0){var e={name:t.name,basePrice:t.basePrice};c(function(e){return{type:"ADD_PERSON",person:e}}(e)),n({name:"",basePrice:void 0})}}},l.a.createElement(B.a,{label:"Name",variant:"outlined",margin:"normal",name:"name",value:t.name,fullWidth:!0,InputLabelProps:{shrink:!0},onChange:function(e){var a=e.target.value;n((function(e){return Object(q.a)({},e,{name:a})}))}}),l.a.createElement(K,{label:"Base Price",name:"basePrice",value:t.basePrice,handleChange:function(e){n((function(a){return Object(q.a)({},a,{basePrice:e})}))}}))},Q=t(44),U=t(136),V=t(155),Y=t(149),Z=t(140),ee=t(70),ae=t.n(ee),te=Object(b.a)((function(e){return{formRow:{display:"flex",justifyContent:"space-between"},formRowItemLeft:Object(Q.a)({},e.breakpoints.up("sm"),{paddingRight:e.spacing(1)}),formRowItemRight:Object(Q.a)({},e.breakpoints.up("sm"),{paddingLeft:e.spacing(1)})}})),ne=function(){var e=te(),a=Object(r.useState)({name:"",kind:n.SplitEqually}),t=Object(o.a)(a,2),c=t[0],i=t[1],u=Object(N.b)();return l.a.createElement(X,{title:"Add a new expense",Icon:ae.a,handleSubmit:function(){if(""!==c.name&&c.payload&&c.payload>0){var e={name:c.name,kind:c.kind,payload:c.payload};u(function(e){return{type:"ADD_EXPENSE",expense:e}}(e)),i({name:"",kind:n.SplitEqually,payload:void 0})}}},l.a.createElement(B.a,{label:"Name",name:"name",variant:"outlined",margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},value:c.name,onChange:function(e){if(e.target){var a=e.target.value;i((function(e){return Object(q.a)({},e,{name:a})}))}}}),l.a.createElement(E.a,{container:!0},l.a.createElement(E.a,{item:!0,xs:12,sm:6,className:e.formRowItemLeft},l.a.createElement(U.a,{margin:"normal",fullWidth:!0},l.a.createElement(V.a,{id:"kind-select-label",variant:"outlined"},"Kind"),l.a.createElement(Y.a,{labelId:"kind-select-label",labelWidth:40,fullWidth:!0,value:c.kind,variant:"outlined",onChange:function(e){var a=e.target.value;i((function(e){return Object(q.a)({},e,{kind:a})}))}},l.a.createElement(Z.a,{value:n.Percentage},"Percentage"),l.a.createElement(Z.a,{value:n.SplitEqually},"Split equally"),l.a.createElement(Z.a,{value:n.SplitProportionally},"Split proportionally")))),l.a.createElement(E.a,{item:!0,xs:12,sm:6,className:e.formRowItemRight},l.a.createElement(K,{label:"Price",name:"price",percentage:c.kind===n.Percentage,value:c.payload,handleChange:function(e){i((function(a){return Object(q.a)({},a,{payload:e})}))}}))))},re=t(71),le=t.n(re),ce=t(72),ie=t.n(ce),oe=t(151),ue=t(142),se=t(137),me=t(94),pe=t(143),de=t(144),fe=Object(b.a)((function(e){return{drawerHeader:Object(q.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"})}})),Ee=function(e){var a=e.open,t=e.closeCallback,n=fe(),r=Object(N.b)();return l.a.createElement(oe.a,{open:a},l.a.createElement("div",{className:n.drawerHeader},l.a.createElement(p.a,{onClick:t},l.a.createElement(le.a,null))),l.a.createElement(ue.a,null),l.a.createElement(se.a,null,l.a.createElement(me.a,{button:!0,onClick:function(){r({type:"RESET_STATE"}),t()}},l.a.createElement(pe.a,null,l.a.createElement(ie.a,null)),l.a.createElement(de.a,{primary:"Reset"}))))},he=Object(b.a)((function(e){return{root:{marginTop:e.spacing(2)}}})),ge=function(e){var a=e.expense,t=a.kind===n.Percentage?"".concat(a.payload,"%"):"$".concat(a.payload),r="".concat(a.name," - ").concat(t);return l.a.createElement(me.a,null,l.a.createElement(de.a,{primary:r,secondary:R(a.kind)}))},be=function(){var e=he(),a=Object(N.c)((function(e){return e.expenses}));return 0===a.length?null:l.a.createElement(P.a,{className:e.root,elevation:3},l.a.createElement(se.a,null,a.map((function(e,a){return l.a.createElement(ge,{expense:e,key:a})}))))},ve=Object(b.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}})),ye=function(){var e=ve(),a=Object(r.useState)(!1),t=Object(o.a)(a,2),n=t[0],c=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(u.a,null),l.a.createElement(s.a,{position:"sticky"},l.a.createElement(m.a,null,l.a.createElement(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return c(!0)}},l.a.createElement(g.a,null)),l.a.createElement(d.a,{variant:"h6",className:e.title},"Check Splitter"))),l.a.createElement(Ee,{open:n,closeCallback:function(){return c(!1)}}),l.a.createElement(f.a,{fixed:!0},l.a.createElement(W,null),l.a.createElement(E.a,{container:!0,spacing:3},l.a.createElement(E.a,{item:!0,xs:12,sm:4},l.a.createElement(M,null)),l.a.createElement(E.a,{item:!0,xs:12,sm:8},l.a.createElement(ne,null))),l.a.createElement(be,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ke=t(53),Pe={people:[],expenses:[]},Oe=t(41),Se=t(74),je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"check-splitter-state";try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):null}catch(t){return console.error(t),null}}()||void 0,xe=Object(Oe.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_PERSON":return Object(q.a)({},e,{people:[].concat(Object(ke.a)(e.people),[a.person])});case"ADD_EXPENSE":return Object(q.a)({},e,{expenses:[].concat(Object(ke.a)(e.expenses),[a.expense])});case"RESET_STATE":return Object(q.a)({},Pe);default:return e}}),je,Object(Se.composeWithDevTools)());xe.subscribe((function(){!function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"check-splitter-state";try{window.localStorage.setItem(a,JSON.stringify(e))}catch(t){console.error(t)}}(xe.getState())})),i.a.render(l.a.createElement(N.a,{store:xe},l.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[81,1,2]]]);
//# sourceMappingURL=main.f182e5d0.chunk.js.map