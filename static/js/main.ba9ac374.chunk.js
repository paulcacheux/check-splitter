(this["webpackJsonpcheck-splitter"]=this["webpackJsonpcheck-splitter"]||[]).push([[0],{80:function(e,a,t){e.exports=t(91)},91:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),c=t(8),i=t.n(c),o=t(35),s=t(14),u=t(18),m=t(150),p=t(139),d=t(140),E=t(136),h=t(93),b=t(141),f=t(142),g=t(143),v=t(144),y=t(145),k=t(46),O=t(146),P=t(147),S=t(72),j=t.n(S),w=t(126),x=t(4),N=t(151),I=t(125),C=t(92),R=t(127),A=t(128),W=t(129),D=t(130),T=t(131),q=t(62),B=t(63);!function(e){e[e.Percentage=0]="Percentage",e[e.SplitEqually=1]="SplitEqually",e[e.SplitProportionally=2]="SplitProportionally"}(n||(n={}));var _=function(){function e(a){Object(q.a)(this,e),this.person=void 0,this.expenses=void 0,this.total=void 0,this.person=a,this.expenses=[],this.total=0}return Object(B.a)(e,[{key:"addExpense",value:function(e,a,t,r){switch(a){case n.Percentage:this.expenses.push(e*this.person.basePrice/100);break;case n.SplitEqually:this.expenses.push(e/t);break;case n.SplitProportionally:var l=this.person.basePrice/r;this.expenses.push(l*e)}}},{key:"finalize",value:function(){this.total=this.person.basePrice+this.expenses.reduce((function(e,a){return e+a}),0)}}]),e}(),z=Object(x.a)((function(e){return Object(N.a)({head:{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}})}))(I.a),H=Object(w.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(2),marginBottom:e.spacing(2)},table:{maxHeight:"50vh"}}})),J=function(){var e=H(),a=Object(u.c)((function(e){return e.people})),t=Object(u.c)((function(e){return e.expenses})),n=function(e,a){var t=e.length,n=e.map((function(e){return e.basePrice})).reduce((function(e,a){return e+a}),0);return e.map((function(e){var r=new _(e),l=!0,c=!1,i=void 0;try{for(var o,s=a[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;r.addExpense(u.payload,u.kind,t,n)}}catch(m){c=!0,i=m}finally{try{l||null==s.return||s.return()}finally{if(c)throw i}}return r.finalize(),r}))}(a,t);return l.a.createElement(C.a,{className:e.root,elevation:3},l.a.createElement(R.a,{className:e.table},l.a.createElement(A.a,{stickyHeader:!0},l.a.createElement(W.a,null,l.a.createElement(D.a,null,l.a.createElement(z,{align:"left"},"Name"),l.a.createElement(z,{align:"right"},"Base Price"),t.map((function(e,a){return l.a.createElement(z,{align:"right",key:a},e.name)})),l.a.createElement(z,{align:"right"},"Total"))),l.a.createElement(T.a,null,n.map((function(e,a){return l.a.createElement(D.a,{key:a},l.a.createElement(I.a,{align:"left"},e.person.name),l.a.createElement(I.a,{align:"right"},e.person.basePrice),e.expenses.map((function(e,a){return l.a.createElement(I.a,{align:"right",key:a},e)})),l.a.createElement(I.a,{align:"right"},e.total))}))))))},F=t(152),L=t(137),$=t(66),X=t.n($),G=t(132),K=t(65),M=t.n(K),Q=function(){return l.a.createElement(G.a,{color:"primary",variant:"contained",size:"large",type:"submit",startIcon:l.a.createElement(M.a,null)},"Add")},U=Object(w.a)((function(e){return{root:{padding:e.spacing(2)},headerIcon:{marginRight:e.spacing(1)},header:{display:"flex",alignItems:"center"}}})),V=function(e){var a=e.title,t=e.Icon,n=e.handleSubmit,r=e.children,c=U();return l.a.createElement(C.a,{elevation:3,className:c.root},l.a.createElement("div",{className:c.header},l.a.createElement(t,{fontSize:"large",className:c.headerIcon}),l.a.createElement(k.a,{variant:"h5"},a)),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n&&n(e)}},r,l.a.createElement(Q,null)))},Y=function(){var e=Object(r.useState)({name:"",basePrice:0}),a=Object(o.a)(e,2),t=a[0],n=a[1],c=function(e){var a=e.target.name,t=e.target.value;switch(a){case"name":n((function(e){return Object(s.a)({},e,{name:t})}));break;case"basePrice":var r=parseFloat(t);isNaN(r)&&(r=0),n((function(e){return Object(s.a)({},e,{basePrice:r})}))}},i=Object(u.b)();return l.a.createElement(V,{title:"Add a new person",Icon:X.a,handleSubmit:function(){i({type:"ADD_PERSON",person:t}),n({name:"",basePrice:0})}},l.a.createElement(F.a,{label:"Name",variant:"outlined",margin:"normal",name:"name",value:t.name,fullWidth:!0,InputLabelProps:{shrink:!0},onChange:c}),l.a.createElement(F.a,{label:"Base Price",variant:"outlined",margin:"normal",name:"basePrice",value:t.basePrice,fullWidth:!0,InputProps:{startAdornment:l.a.createElement(L.a,{position:"start"},"$")},type:"number",onChange:c}))},Z=t(135),ee=t(154),ae=t(148),te=t(138),ne=t(69),re=t.n(ne),le=Object(w.a)({formRow:{display:"flex",justifyContent:"space-between"},formRowItem:{maxWidth:"49%"}}),ce=function(){var e=le(),a=Object(r.useState)({name:"",kind:n.SplitEqually,payload:0}),t=Object(o.a)(a,2),c=t[0],i=t[1],m=function(e){var a=e.target.name,t=e.target.value;switch(a){case"name":i((function(e){return Object(s.a)({},e,{name:t})}));break;case"kind":break;case"payload":var n=parseFloat(t);isNaN(n)&&(n=0),i((function(e){return Object(s.a)({},e,{payload:n})}))}},p=Object(u.b)();return l.a.createElement(V,{title:"Add a new expense",Icon:re.a,handleSubmit:function(){p({type:"ADD_EXPENSE",expense:c}),i({name:"",kind:n.SplitEqually,payload:0})}},l.a.createElement(F.a,{label:"Name",name:"name",variant:"outlined",margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},onChange:m}),l.a.createElement("div",{className:e.formRow},l.a.createElement(Z.a,{margin:"normal",fullWidth:!0,className:e.formRowItem},l.a.createElement(ee.a,{id:"kind-select-label",variant:"outlined"},"Kind"),l.a.createElement(ae.a,{labelId:"kind-select-label",labelWidth:40,fullWidth:!0,value:c.kind,variant:"outlined",onChange:function(e){var a=e.target.value;i((function(e){return Object(s.a)({},e,{kind:a})}))}},l.a.createElement(te.a,{value:n.Percentage},"Percentage"),l.a.createElement(te.a,{value:n.SplitEqually},"Split equally"),l.a.createElement(te.a,{value:n.SplitProportionally},"Split proportionally"))),c.kind===n.Percentage?l.a.createElement(F.a,{label:"Percentage",variant:"outlined",margin:"normal",name:"payload",fullWidth:!0,InputProps:{endAdornment:l.a.createElement(L.a,{position:"end"},"%")},InputLabelProps:{shrink:!0},type:"number",inputProps:{min:0,max:100},value:c.payload,className:e.formRowItem,onChange:m}):l.a.createElement(F.a,{label:"Price",variant:"outlined",margin:"normal",name:"payload",fullWidth:!0,InputProps:{startAdornment:l.a.createElement(L.a,{position:"start"},"$")},type:"number",value:c.payload,className:e.formRowItem,onChange:m})))},ie=t(70),oe=t.n(ie),se=t(71),ue=t.n(se),me=Object(w.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},drawerHeader:Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"})}})),pe=function(e){var a=e.open,t=e.closeCallback,n=me(),r=Object(u.b)();return l.a.createElement(m.a,{open:a},l.a.createElement("div",{className:n.drawerHeader},l.a.createElement(p.a,{onClick:t},l.a.createElement(oe.a,null))),l.a.createElement(d.a,null),l.a.createElement(E.a,null,l.a.createElement(h.a,{button:!0,onClick:function(){r({type:"RESET_STATE"}),t()}},l.a.createElement(b.a,null,l.a.createElement(ue.a,null)),l.a.createElement(f.a,{primary:"Reset"}))))},de=function(){var e=me(),a=Object(r.useState)(!1),t=Object(o.a)(a,2),n=t[0],c=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null),l.a.createElement(v.a,{position:"sticky"},l.a.createElement(y.a,null,l.a.createElement(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return c(!0)}},l.a.createElement(j.a,null)),l.a.createElement(k.a,{variant:"h6",className:e.title},"Check Splitter"))),l.a.createElement(pe,{open:n,closeCallback:function(){return c(!1)}}),l.a.createElement(O.a,{fixed:!0},l.a.createElement(J,null),l.a.createElement(P.a,{container:!0,spacing:3},l.a.createElement(P.a,{item:!0,xs:4},l.a.createElement(Y,null)),l.a.createElement(P.a,{item:!0,xs:8},l.a.createElement(ce,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ee=t(52),he={people:[],expenses:[]},be=t(41),fe=t(73),ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"check-splitter-state";try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):null}catch(t){return console.error(t),null}}()||void 0,ve=Object(be.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_PERSON":return Object(s.a)({},e,{people:[].concat(Object(Ee.a)(e.people),[a.person])});case"ADD_EXPENSE":return Object(s.a)({},e,{expenses:[].concat(Object(Ee.a)(e.expenses),[a.expense])});case"RESET_STATE":return Object(s.a)({},he);default:return e}}),ge,Object(fe.composeWithDevTools)());ve.subscribe((function(){!function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"check-splitter-state";try{window.localStorage.setItem(a,JSON.stringify(e))}catch(t){console.error(t)}}(ve.getState())})),i.a.render(l.a.createElement(u.a,{store:ve},l.a.createElement(de,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[80,1,2]]]);
//# sourceMappingURL=main.ba9ac374.chunk.js.map