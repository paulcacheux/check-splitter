(this["webpackJsonpcheck-splitter"]=this["webpackJsonpcheck-splitter"]||[]).push([[0],{81:function(e,a,t){e.exports=t(92)},92:function(e,a,t){"use strict";t.r(a);var n,r=t(0),l=t.n(r),i=t(8),c=t.n(i),o=t(35),s=t(14),u=t(18),m=t(151),p=t(141),d=t(142),E=t(137),h=t(94),b=t(143),f=t(144),g=t(145),v=t(146),y=t(147),k=t(47),O=t(148),j=t(139),P=t(73),S=t.n(P),w=t(127),x=t(4),N=t(152),I=t(126),C=t(93),R=t(128),A=t(129),W=t(130),D=t(131),T=t(132),q=t(63),B=t(64);!function(e){e[e.Percentage=0]="Percentage",e[e.SplitEqually=1]="SplitEqually",e[e.SplitProportionally=2]="SplitProportionally"}(n||(n={}));var L=function(){function e(a){Object(q.a)(this,e),this.person=void 0,this.expenses=void 0,this.total=void 0,this.person=a,this.expenses=[],this.total=0}return Object(B.a)(e,[{key:"addExpense",value:function(e,a,t,r){switch(a){case n.Percentage:this.expenses.push(e*this.person.basePrice/100);break;case n.SplitEqually:this.expenses.push(e/t);break;case n.SplitProportionally:var l=this.person.basePrice/r;this.expenses.push(l*e)}}},{key:"finalize",value:function(){this.total=this.person.basePrice+this.expenses.reduce((function(e,a){return e+a}),0)}}]),e}(),_=Object(x.a)((function(e){return Object(N.a)({head:{backgroundColor:e.palette.secondary.main,color:e.palette.common.white}})}))(I.a),z=Object(w.a)((function(e){return{root:{width:"100%",marginTop:e.spacing(2),marginBottom:e.spacing(2)},table:{maxHeight:"50vh"}}})),H=function(){var e=z(),a=Object(u.c)((function(e){return e.people})),t=Object(u.c)((function(e){return e.expenses})),n=function(e,a){var t=e.length,n=e.map((function(e){return e.basePrice})).reduce((function(e,a){return e+a}),0);return e.map((function(e){var r=new L(e),l=!0,i=!1,c=void 0;try{for(var o,s=a[Symbol.iterator]();!(l=(o=s.next()).done);l=!0){var u=o.value;r.addExpense(u.payload,u.kind,t,n)}}catch(m){i=!0,c=m}finally{try{l||null==s.return||s.return()}finally{if(i)throw c}}return r.finalize(),r}))}(a,t);return l.a.createElement(C.a,{className:e.root,elevation:3},l.a.createElement(R.a,{className:e.table},l.a.createElement(A.a,{stickyHeader:!0},l.a.createElement(W.a,null,l.a.createElement(D.a,null,l.a.createElement(_,{align:"left"},"Name"),l.a.createElement(_,{align:"right"},"Base Price"),t.map((function(e,a){return l.a.createElement(_,{align:"right",key:a},e.name)})),l.a.createElement(_,{align:"right"},"Total"))),l.a.createElement(T.a,null,n.map((function(e,a){return l.a.createElement(D.a,{key:a},l.a.createElement(I.a,{align:"left"},e.person.name),l.a.createElement(I.a,{align:"right"},e.person.basePrice),e.expenses.map((function(e,a){return l.a.createElement(I.a,{align:"right",key:a},e)})),l.a.createElement(I.a,{align:"right"},e.total))}))))))},J=t(153),F=t(138),$=t(67),X=t.n($),G=t(133),K=t(66),M=t.n(K),Q=function(){return l.a.createElement(G.a,{color:"primary",variant:"contained",size:"large",type:"submit",startIcon:l.a.createElement(M.a,null)},"Add")},U=Object(w.a)((function(e){return{root:{padding:e.spacing(2)},headerIcon:{marginRight:e.spacing(1)},header:{display:"flex",alignItems:"center"}}})),V=function(e){var a=e.title,t=e.Icon,n=e.handleSubmit,r=e.children,i=U();return l.a.createElement(C.a,{elevation:3,className:i.root},l.a.createElement("div",{className:i.header},l.a.createElement(t,{fontSize:"large",className:i.headerIcon}),l.a.createElement(k.a,{variant:"h5"},a)),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),n&&n(e)}},r,l.a.createElement(Q,null)))},Y=function(){var e=Object(r.useState)({name:"",basePrice:0}),a=Object(o.a)(e,2),t=a[0],n=a[1],i=function(e){var a=e.target.name,t=e.target.value;switch(a){case"name":n((function(e){return Object(s.a)({},e,{name:t})}));break;case"basePrice":var r=parseFloat(t);isNaN(r)&&(r=0),n((function(e){return Object(s.a)({},e,{basePrice:r})}))}},c=Object(u.b)();return l.a.createElement(V,{title:"Add a new person",Icon:X.a,handleSubmit:function(){c({type:"ADD_PERSON",person:t}),n({name:"",basePrice:0})}},l.a.createElement(J.a,{label:"Name",variant:"outlined",margin:"normal",name:"name",value:t.name,fullWidth:!0,InputLabelProps:{shrink:!0},onChange:i}),l.a.createElement(J.a,{label:"Base Price",variant:"outlined",margin:"normal",name:"basePrice",value:t.basePrice,fullWidth:!0,InputProps:{startAdornment:l.a.createElement(F.a,{position:"start"},"$")},type:"number",onChange:i}))},Z=t(43),ee=t(136),ae=t(155),te=t(149),ne=t(140),re=t(70),le=t.n(re),ie=Object(w.a)((function(e){return{formRow:{display:"flex",justifyContent:"space-between"},formRowItemLeft:Object(Z.a)({},e.breakpoints.up("sm"),{paddingRight:e.spacing(1)}),formRowItemRight:Object(Z.a)({},e.breakpoints.up("sm"),{paddingLeft:e.spacing(1)})}})),ce=function(){var e=ie(),a=Object(r.useState)({name:"",kind:n.SplitEqually,payload:0}),t=Object(o.a)(a,2),i=t[0],c=t[1],m=function(e){var a=e.target.name,t=e.target.value;switch(a){case"name":c((function(e){return Object(s.a)({},e,{name:t})}));break;case"kind":break;case"payload":var n=parseFloat(t);isNaN(n)&&(n=0),c((function(e){return Object(s.a)({},e,{payload:n})}))}},p=Object(u.b)();return l.a.createElement(V,{title:"Add a new expense",Icon:le.a,handleSubmit:function(){p({type:"ADD_EXPENSE",expense:i}),c({name:"",kind:n.SplitEqually,payload:0})}},l.a.createElement(J.a,{label:"Name",name:"name",variant:"outlined",margin:"normal",fullWidth:!0,InputLabelProps:{shrink:!0},onChange:m}),l.a.createElement(j.a,{container:!0},l.a.createElement(j.a,{item:!0,xs:12,sm:6,className:e.formRowItemLeft},l.a.createElement(ee.a,{margin:"normal",fullWidth:!0},l.a.createElement(ae.a,{id:"kind-select-label",variant:"outlined"},"Kind"),l.a.createElement(te.a,{labelId:"kind-select-label",labelWidth:40,fullWidth:!0,value:i.kind,variant:"outlined",onChange:function(e){var a=e.target.value;c((function(e){return Object(s.a)({},e,{kind:a})}))}},l.a.createElement(ne.a,{value:n.Percentage},"Percentage"),l.a.createElement(ne.a,{value:n.SplitEqually},"Split equally"),l.a.createElement(ne.a,{value:n.SplitProportionally},"Split proportionally")))),l.a.createElement(j.a,{item:!0,xs:12,sm:6,className:e.formRowItemRight},i.kind===n.Percentage?l.a.createElement(J.a,{label:"Percentage",variant:"outlined",margin:"normal",name:"payload",fullWidth:!0,InputProps:{endAdornment:l.a.createElement(F.a,{position:"end"},"%")},InputLabelProps:{shrink:!0},type:"number",inputProps:{min:0,max:100},value:i.payload,onChange:m}):l.a.createElement(J.a,{label:"Price",variant:"outlined",margin:"normal",name:"payload",fullWidth:!0,InputProps:{startAdornment:l.a.createElement(F.a,{position:"start"},"$")},type:"number",value:i.payload,onChange:m}))))},oe=t(71),se=t.n(oe),ue=t(72),me=t.n(ue),pe=Object(w.a)((function(e){return{menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},drawerHeader:Object(s.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar,{justifyContent:"flex-end"})}})),de=function(e){var a=e.open,t=e.closeCallback,n=pe(),r=Object(u.b)();return l.a.createElement(m.a,{open:a},l.a.createElement("div",{className:n.drawerHeader},l.a.createElement(p.a,{onClick:t},l.a.createElement(se.a,null))),l.a.createElement(d.a,null),l.a.createElement(E.a,null,l.a.createElement(h.a,{button:!0,onClick:function(){r({type:"RESET_STATE"}),t()}},l.a.createElement(b.a,null,l.a.createElement(me.a,null)),l.a.createElement(f.a,{primary:"Reset"}))))},Ee=function(){var e=pe(),a=Object(r.useState)(!1),t=Object(o.a)(a,2),n=t[0],i=t[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,null),l.a.createElement(v.a,{position:"sticky"},l.a.createElement(y.a,null,l.a.createElement(p.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",onClick:function(){return i(!0)}},l.a.createElement(S.a,null)),l.a.createElement(k.a,{variant:"h6",className:e.title},"Check Splitter"))),l.a.createElement(de,{open:n,closeCallback:function(){return i(!1)}}),l.a.createElement(O.a,{fixed:!0},l.a.createElement(H,null),l.a.createElement(j.a,{container:!0,spacing:3},l.a.createElement(j.a,{item:!0,xs:12,sm:4},l.a.createElement(Y,null)),l.a.createElement(j.a,{item:!0,xs:12,sm:8},l.a.createElement(ce,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var he=t(53),be={people:[],expenses:[]},fe=t(41),ge=t(74),ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"check-splitter-state";try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):null}catch(t){return console.error(t),null}}()||void 0,ye=Object(fe.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ADD_PERSON":return Object(s.a)({},e,{people:[].concat(Object(he.a)(e.people),[a.person])});case"ADD_EXPENSE":return Object(s.a)({},e,{expenses:[].concat(Object(he.a)(e.expenses),[a.expense])});case"RESET_STATE":return Object(s.a)({},be);default:return e}}),ve,Object(ge.composeWithDevTools)());ye.subscribe((function(){!function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"check-splitter-state";try{window.localStorage.setItem(a,JSON.stringify(e))}catch(t){console.error(t)}}(ye.getState())})),c.a.render(l.a.createElement(u.a,{store:ye},l.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[81,1,2]]]);
//# sourceMappingURL=main.1f7468be.chunk.js.map